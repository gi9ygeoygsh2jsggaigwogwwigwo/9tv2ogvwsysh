<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>TikTok Boost Premium</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body{background:#000;color:#0f0;font-family:courier;text-align:center;padding:50px;margin:0;}
        input,button{padding:15px;margin:10px;width:90%;max-width:400px;font-size:18px;}
        button{background:#0f0;color:#000;border:none;cursor:pointer;font-weight:bold;}
        .hidden{display:none;}#stats{font-size:22px;margin:20px;line-height:1.8;}
        h1{margin:30px 0 10px;}.logout{color:red;font-weight:bold;}
    </style>
</head>
<body>
    <h1>TIKTOK BOOST PREMIUM</h1>
    <h3>MADE BY JRMPH</h3>

    <div id="login">
        <input type="password" id="key" placeholder="Enter License Key">
        <button onclick="login()">ACTIVATE</button>
    </div>

    <div id="main" class="hidden">
        <input type="text" id="url" placeholder="TikTok Video URL">
        <button onclick="start()">START BOOST</button>
        <button onclick="stop()">STOP</button>
        <button onclick="logout()">LOGOUT</button>
        <div id="stats">Ready...</div>
        <div id="active">Active Users: checking...</div>
    </div>

    <script>
        const API = "https://tiktokboostingviewslikes.onrender.com";
        let boostInt, activeInt;

        async function login(){
            const key = document.getElementById('key').value.trim();
            if(!key) return alert('Enter key!');
            const res = await axios.post(`${API}/api/login`, { key });
            if(res.data.success){
                document.getElementById('login').classList.add('hidden');
                document.getElementById('main').classList.remove('hidden');
                updateActive();
            }else alert('Invalid Key!');
        }

        async function start(){
            const url = document.getElementById('url').value.trim();
            if(!url || !url.includes('tiktok.com')) return alert('Invalid URL');
            if(boostInt) clearInterval(boostInt);
            let sent = 0;
            boostInt = setInterval(async()=>{
                const res = await axios.post(`${API}/api/boost`, { url });
                if(res.data.success) sent += 100;
                document.getElementById('stats').innerHTML = `Sent: ${sent.toLocaleString()}<br>Boost Running...`;
            }, 4000);
        }

        function stop(){
            clearInterval(boostInt);
            document.getElementById('stats').textContent = 'Stopped';
        }

        function logout(){
            axios.post(`${API}/api/logout`);
            location.reload();
        }

        function updateActive(){
            activeInt = setInterval(async()=>{
                try {
                    const res = await axios.get(`${API}/api/sessions`);
                    document.getElementById('active').textContent = `Active Users: ${res.data.count}`;
                } catch {}
            }, 5000);
        }

        axios.get(`${API}/api/sessions`).then(r=>{
            if(r.data.count > 0){
                document.getElementById('login').classList.add('hidden');
                document.getElementById('main').classList.remove('hidden');
                updateActive();
            }
        });
    </script>
</body>
</html>
